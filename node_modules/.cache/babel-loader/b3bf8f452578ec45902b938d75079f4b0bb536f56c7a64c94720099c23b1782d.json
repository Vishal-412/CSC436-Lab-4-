{"ast":null,"code":"import _objectSpread from\"C:/Users/user/workspace/myblog/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _toConsumableArray from\"C:/Users/user/workspace/myblog/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _slicedToArray from\"C:/Users/user/workspace/myblog/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useReducer}from\"react\";import CreatePost from\"./CreatePost\";import UserBar from\"./Userbar\";import PostList from\"./PostList\";import\"./App.css\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function App(){var initialPosts=[{title:\"Node JS\",description:\"Used for backend\",author:\"Vishal\"},{title:\"React\",description:\"Used for frontend\",author:\"Vishal\"}];var _useState=useState(false),_useState2=_slicedToArray(_useState,2),createPostVisible=_useState2[0],setCreatePostVisible=_useState2[1];function userReducer(state,action){switch(action.type){case\"LOGIN\":setCreatePostVisible(true);return action.username;case\"REGISTER\":setCreatePostVisible(true);return action.username;case\"LOGOUT\":setCreatePostVisible(false);return null;default:return state;}}var _useReducer=useReducer(userReducer,\"\"),_useReducer2=_slicedToArray(_useReducer,2),user=_useReducer2[0],dispatchUser=_useReducer2[1];function postReducer(state,action){switch(action.type){case\"CREATE_POST\":var newPost={title:action.post.title,content:action.post.content,author:user,complete:false,dateCreated:new Date().toISOString(),dateCompleted:null};return[newPost].concat(_toConsumableArray(state));case\"TOGGLE_POST\":var updatedPosts=state.map(function(post){if(post.title===action.title){post.complete=!post.complete;post.dateCompleted=post.complete?new Date().toISOString():null;}return post;});return updatedPosts;case\"DELETE_POST\":return state.filter(function(post){return post.title!==action.title;});default:return state;}}var _useReducer3=useReducer(postReducer,initialPosts),_useReducer4=_slicedToArray(_useReducer3,2),posts=_useReducer4[0],dispatchPost=_useReducer4[1];var handleAddPost=function handleAddPost(newPost){console.log(newPost);dispatchPost(_objectSpread({type:\"CREATE_POST\"},newPost));};var handleDeletePost=function handleDeletePost(title){dispatchPost({type:\"DELETE_POST\",title:title});};return/*#__PURE__*/_jsxs(\"div\",{className:\"app-container\",children:[/*#__PURE__*/_jsx(UserBar,{user:user,dispatchUser:dispatchUser}),user&&/*#__PURE__*/_jsx(CreatePost,{user:user,handleAddPost:handleAddPost,dispatchPost:dispatchPost}),/*#__PURE__*/_jsx(PostList,{posts:posts,handleDeletePost:handleDeletePost})]});}export default App;","map":{"version":3,"names":["React","useState","useReducer","CreatePost","UserBar","PostList","jsx","_jsx","jsxs","_jsxs","App","initialPosts","title","description","author","_useState","_useState2","_slicedToArray","createPostVisible","setCreatePostVisible","userReducer","state","action","type","username","_useReducer","_useReducer2","user","dispatchUser","postReducer","newPost","post","content","complete","dateCreated","Date","toISOString","dateCompleted","concat","_toConsumableArray","updatedPosts","map","filter","_useReducer3","_useReducer4","posts","dispatchPost","handleAddPost","console","log","_objectSpread","handleDeletePost","className","children"],"sources":["C:/Users/user/workspace/myblog/src/App.js"],"sourcesContent":["import React, { useState, useReducer } from \"react\";\nimport CreatePost from \"./CreatePost\";\nimport UserBar from \"./Userbar\";\nimport PostList from \"./PostList\";\nimport \"./App.css\";\n\nfunction App(){\n\nconst initialPosts= [\n  {title: \"Node JS\", description: \"Used for backend\", author:\"Vishal\"},\n  {title: \"React\", description: \"Used for frontend\", author:\"Vishal\"}\n]\n\n\n\nconst [createPostVisible, setCreatePostVisible] = useState(false);\n\n  function userReducer(state, action) {\n    switch (action.type) {\n      case \"LOGIN\":\n        setCreatePostVisible(true);\n        return action.username;\n      case \"REGISTER\":\n        setCreatePostVisible(true);\n        return action.username;\n      case \"LOGOUT\":\n        setCreatePostVisible(false);\n        return null;\n      default:\n        return state;\n    }\n  }\n\n  const [user, dispatchUser] = useReducer(userReducer, \"\");\n\n  function postReducer(state, action) {\n    switch (action.type) {\n      case \"CREATE_POST\":\n        const newPost = {\n          title: action.post.title,\n          content: action.post.content,\n          author: user,\n          complete: false,\n          dateCreated: new Date().toISOString(),\n          dateCompleted: null,\n        };\n        return [newPost, ...state];\n\n      case \"TOGGLE_POST\":\n        const updatedPosts = state.map((post) => {\n          if (post.title === action.title) {\n            post.complete = !post.complete;\n            post.dateCompleted = post.complete ? new Date().toISOString() : null;\n          }\n          return post;\n        });\n        return updatedPosts;\n\n      case \"DELETE_POST\":\n        return state.filter((post) => post.title !== action.title);\n\n      default:\n        return state;\n    }\n  }\n\n  const [posts, dispatchPost] = useReducer(postReducer, initialPosts);\n\n  const handleAddPost = (newPost) => {\n    console.log(newPost);\n    dispatchPost({ type: \"CREATE_POST\", ...newPost });\n  };\n\n  const handleDeletePost = (title) => {\n    dispatchPost({ type: \"DELETE_POST\", title });\n  };\n\n\n  return (\n    <div className=\"app-container\">\n      <UserBar user={user} dispatchUser={dispatchUser} />\n      {user && (\n        <CreatePost\n          user={user}\n          handleAddPost={handleAddPost}\n          dispatchPost={dispatchPost} \n        />\n      )}\n      <PostList posts={posts} handleDeletePost={handleDeletePost} />\n    </div>\n  );\n}\n\nexport default App;\n\n\n\n\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}